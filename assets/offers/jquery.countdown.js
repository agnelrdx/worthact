(function(){!function($){$.countdown=function(n,t){var e,r=this;return this.el=n,this.$el=$(n),this.$el.data("countdown",this),this.init=function(){return r.options=$.extend({},$.countdown.defaultOptions,t),r.options.refresh&&(r.interval=setInterval(function(){return r.render()},r.options.refresh)),r.render(),r},e=function(n){var t,e;return n=Date.parse($.isPlainObject(r.options.date)?r.options.date:new Date(r.options.date)),e=(n-Date.parse(new Date))/1e3,e<=0&&(e=0,r.interval&&r.stop(),r.options.onEnd.apply(r)),t={years:0,days:0,hours:0,min:0,sec:0,millisec:0},e>=31557600&&(t.years=Math.floor(e/31557600),e-=365.25*t.years*86400),e>=86400&&(t.days=Math.floor(e/86400),e-=86400*t.days),e>=3600&&(t.hours=Math.floor(e/3600),e-=3600*t.hours),e>=60&&(t.min=Math.floor(e/60),e-=60*t.min),t.sec=e,t},this.leadingZeros=function(n,t){for(null==t&&(t=2),n=String(n);n.length<t;)n="0"+n;return n},this.update=function(n){return r.options.date=n,r},this.render=function(){return r.options.render.apply(r,[e(r.options.date)]),r},this.stop=function(){return r.interval&&clearInterval(r.interval),r.interval=null,r},this.start=function(n){return null==n&&(n=r.options.refresh||$.countdown.defaultOptions.refresh),r.interval&&clearInterval(r.interval),r.render(),r.options.refresh=n,r.interval=setInterval(function(){return r.render()},r.options.refresh),r},this.init()},$.countdown.defaultOptions={date:"June 7, 2087 15:03:25",refresh:1e3,onEnd:$.noop,render:function(n){return $(this.el).html(""+n.years+" years, "+n.days+" days, "+this.leadingZeros(n.hours)+" hours, "+this.leadingZeros(n.min)+" min and "+this.leadingZeros(n.sec)+" sec")}},$.fn.countdown=function(n){return $.each(this,function(t,e){var r;if(r=$(e),!r.data("countdown"))return r.data("countdown",new $.countdown(e,n))})}}(jQuery)}).call(this);